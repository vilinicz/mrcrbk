(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{308:function(t,e,n){var content=n(310);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(56).default)("6759f5ab",content,!0,{sourceMap:!1})},309:function(t,e,n){"use strict";var r=n(308);n.n(r).a},310:function(t,e,n){(e=n(55)(!1)).push([t.i,".container{margin:0 auto;min-height:100vh;display:grid;grid-template-columns:2fr 3fr}.column{padding:2rem;display:flex;flex-flow:column}.config{background-color:#e4e7ed}.header{margin-bottom:1rem;font-weight:400}.btn{margin-right:auto}.submit{margin:2rem 0 2rem auto}",""]),t.exports=e},311:function(t,e,n){"use strict";n.r(e);n(54);var r=n(5),o={data:function(){return{configDisabled:!0,config:{apiToken:"",identityId:"",wallets:{EUR:"",USD:"",RUB:"",UAH:""}},payout:{pan:"",expiration:"12/23",cardholder:"",currency:"",amount:0},loading:!1}},mounted:function(){this.$axios.defaults.headers.common.Authorization=this.config.apiToken,this.$axios.defaults.headers.common["X-Request-ID"]="mrc_payout_front"},methods:{pay:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,t.createWithdrawal(t.createDestination(t.tokenizeCard()).id);case 4:n=e.sent,alert(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:return e.prev=11,t.loading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()},tokenizeCard:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.post("https://api.rbk.money/payres/v0/bank-cards",{type:"BankCard",cardNumber:t.payout.pan,expDate:t.payout.expiration,cardHolder:t.payout.cardholder});case 2:case"end":return e.stop()}}),e)})))()},createDestination:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$axios.post("https://api.rbk.money/wallet/v0/destinations",{name:e.payout.cardholder,identity:e.config.identityId,currency:e.payout.currency,resource:{type:"BankCardDestinationResource",token:t},metadata:{display_name:e.payout.cardholder}});case 2:case"end":return n.stop()}}),n)})))()},createWithdrawal:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$axios.post("https://api.rbk.money/wallet/v0/withdrawals",{wallet:e.config.wallets[e.payout.currency],destination:t,body:{amount:e.payout.amount,currency:e.payout.currency}});case 2:case"end":return n.stop()}}),n)})))()}}},l=(n(309),n(37)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"column config"},[n("h2",{staticClass:"header"},[t._v("\n      Configuration\n    ")]),t._v(" "),n("el-form",{ref:"configForm",attrs:{model:t.config,disabled:t.configDisabled}},[n("el-form-item",{attrs:{label:"Api Token"}},[n("el-input",{model:{value:t.config.apiToken,callback:function(e){t.$set(t.config,"apiToken",e)},expression:"config.apiToken"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"Identity ID"}},[n("el-input",{model:{value:t.config.identityId,callback:function(e){t.$set(t.config,"identityId","string"==typeof e?e.trim():e)},expression:"config.identityId"}})],1),t._v(" "),n("h4",{staticClass:"header"},[t._v("\n        Wallets IDs:\n      ")]),t._v(" "),n("el-form-item",{attrs:{label:"EUR"}},[n("el-input",{model:{value:t.config.wallets.eur,callback:function(e){t.$set(t.config.wallets,"eur","string"==typeof e?e.trim():e)},expression:"config.wallets.eur"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"USD"}},[n("el-input",{model:{value:t.config.wallets.usd,callback:function(e){t.$set(t.config.wallets,"usd","string"==typeof e?e.trim():e)},expression:"config.wallets.usd"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"RUB"}},[n("el-input",{model:{value:t.config.wallets.rub,callback:function(e){t.$set(t.config.wallets,"rub","string"==typeof e?e.trim():e)},expression:"config.wallets.rub"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"UAH"}},[n("el-input",{model:{value:t.config.wallets.uah,callback:function(e){t.$set(t.config.wallets,"uah","string"==typeof e?e.trim():e)},expression:"config.wallets.uah"}})],1)],1),t._v(" "),t.configDisabled?n("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){t.configDisabled=!1}}},[t._v("\n      Edit\n    ")]):n("el-button",{staticClass:"btn",attrs:{type:"success"},on:{click:function(e){t.configDisabled=!0}}},[t._v("\n      Save\n    ")])],1),t._v(" "),n("div",{staticClass:"column payout"},[n("h2",{staticClass:"header"},[t._v("\n      Payout\n    ")]),t._v(" "),n("el-form",{ref:"payoutForm",attrs:{model:t.payout}},[n("el-form-item",{attrs:{label:"PAN (4242424242424242)"}},[n("el-input",{model:{value:t.payout.pan,callback:function(e){t.$set(t.payout,"pan","string"==typeof e?e.trim():e)},expression:"payout.pan"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"Expiration date (mm/yy)"}},[n("el-input",{model:{value:t.payout.expiration,callback:function(e){t.$set(t.payout,"expiration",e)},expression:"payout.expiration"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"Cardholder"}},[n("el-input",{model:{value:t.payout.cardholder,callback:function(e){t.$set(t.payout,"cardholder",e)},expression:"payout.cardholder"}})],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"Currency","label-width":"130"}},[n("el-select",{model:{value:t.payout.currency,callback:function(e){t.$set(t.payout,"currency","string"==typeof e?e.trim():e)},expression:"payout.currency"}},t._l(Object.keys(t.config.wallets),(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"Amount","label-width":"130"}},[n("el-input-number",{model:{value:t.payout.amount,callback:function(e){t.$set(t.payout,"amount",t._n("string"==typeof e?e.trim():e))},expression:"payout.amount"}})],1)],1)],1),t._v(" "),n("el-button",{staticClass:"submit",attrs:{type:"primary",loading:t.loading},on:{click:t.pay}},[t._v("\n      Payout\n    ")])],1)])}),[],!1,null,null,null);e.default=component.exports}}]);